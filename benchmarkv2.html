<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>CyberBench Pro ‚Ä¢ AI Hardware Identification</title>
  <style>
    :root {
      --bg: #0a0e17;
      --card: #161b29;
      --border: #30384d;
      --primary: #7e57c2;
      --secondary: #5c6bc0;
      --success: #4db6ac;
      --info: #4fc3f7;
      --warning: #ffb74d;
      --danger: #e57373;
      --text: #e6eaf5;
      --muted: #a0a8c0;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      background: var(--bg);
      color: var(--text);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
      padding: 16px;
      line-height: 1.6;
      background: radial-gradient(circle at 20% 30%, rgba(126, 87, 194, 0.1) 0%, transparent 40%),
                  var(--bg);
    }

    .container { 
      max-width: 1000px; 
      margin: 0 auto; 
    }
    
    header {
      text-align: center;
      margin-bottom: 24px;
      padding: 20px 0;
    }
    
    h1 {
      font-size: 2.4rem;
      background: linear-gradient(90deg, #7e57c2, #4fc3f7);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin-bottom: 8px;
    }
    
    .subtitle {
      color: var(--muted);
      font-size: 1.1rem;
      max-width: 80%;
      margin: 0 auto;
    }
    
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 24px;
    }
    
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 24px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(126, 87, 194, 0.25);
    }
    
    .card-header {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .card-icon {
      font-size: 1.8rem;
      margin-right: 12px;
      color: var(--primary);
    }
    
    .card-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--text);
    }
    
    .label { 
      font-size: 0.9rem; 
      color: var(--muted); 
      text-transform: uppercase; 
      font-weight: 500; 
      letter-spacing: 0.5px;
      margin-bottom: 8px;
    }
    
    .value { 
      font-size: 2.2rem; 
      font-weight: 700; 
      color: white; 
      margin-bottom: 8px; 
      line-height: 1.2;
    }
    
    .sub-value { 
      font-size: 1rem; 
      color: var(--muted); 
      margin-top: 4px;
      min-height: 24px;
    }
    
    .chip {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 500;
      margin-top: 8px;
    }
    
    .chip-primary {
      background: rgba(126, 87, 194, 0.2);
      color: #b39ddb;
      border: 1px solid rgba(126, 87, 194, 0.4);
    }
    
    .chip-success {
      background: rgba(77, 182, 172, 0.2);
      color: #80deea;
      border: 1px solid rgba(77, 182, 172, 0.4);
    }
    
    .chip-warning {
      background: rgba(255, 183, 77, 0.2);
      color: #ffcc80;
      border: 1px solid rgba(255, 183, 77, 0.4);
    }
    
    .btn {
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      color: white;
      border: none;
      border-radius: 10px;
      padding: 18px 36px;
      font-size: 1.25rem;
      font-weight: 600;
      cursor: pointer;
      width: 100%;
      margin-top: 16px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(126, 87, 194, 0.4);
      position: relative;
      overflow: hidden;
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(126, 87, 194, 0.6);
    }
    
    .btn:active {
      transform: translateY(0);
    }
    
    .btn:disabled {
      opacity: 0.7;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    
    .btn::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -60%;
      width: 20px;
      height: 200%;
      background: rgba(255, 255, 255, 0.2);
      transform: rotate(30deg);
      transition: all 0.6s;
    }
    
    .btn:hover::after {
      left: 120%;
    }
    
    .progress-container {
      margin: 24px 0;
    }
    
    .progress-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 0.95rem;
    }
    
    .progress-bar {
      height: 12px;
      background: var(--border);
      border-radius: 6px;
      overflow: hidden;
      position: relative;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--info));
      width: 0%;
      transition: width 0.4s ease;
      box-shadow: 0 0 10px rgba(126, 87, 194, 0.5);
    }
    
    .log-section {
      margin-top: 24px;
    }
    
    .log-header {
      display: flex;
      align-items: center;
      margin-bottom: 12px;
      color: var(--info);
    }
    
    .log-icon {
      margin-right: 8px;
      font-size: 1.2rem;
    }
    
    .log {
      background: rgba(22, 27, 41, 0.8);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 16px;
      font-family: monospace;
      font-size: 0.9rem;
      height: 200px;
      overflow-y: auto;
      line-height: 1.5;
    }
    
    .log-entry {
      margin-bottom: 4px;
      padding-left: 16px;
      border-left: 3px solid transparent;
    }
    
    .log-info {
      border-left-color: var(--info);
    }
    
    .log-success {
      border-left-color: var(--success);
      color: #a7ffeb;
    }
    
    .log-warning {
      border-left-color: var(--warning);
      color: #ffe082;
    }
    
    .log-error {
      border-left-color: var(--danger);
      color: #f28b82;
    }
    
    .ai-section {
      background: linear-gradient(145deg, rgba(22, 27, 41, 0.8), rgba(30, 38, 58, 0.8));
      border: 1px solid rgba(126, 87, 194, 0.4);
      padding: 20px;
      border-radius: 12px;
      margin-top: 16px;
    }
    
    .ai-header {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .ai-icon {
      font-size: 1.5rem;
      margin-right: 10px;
      color: var(--info);
    }
    
    .ai-title {
      font-weight: 600;
      font-size: 1.1rem;
      color: var(--text);
    }
    
    .ai-confidence {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 12px;
      font-size: 0.85rem;
      font-weight: 500;
      margin-left: 12px;
    }
    
    .ai-high {
      background: rgba(77, 182, 172, 0.2);
      color: #80deea;
      border: 1px solid rgba(77, 182, 172, 0.4);
    }
    
    .ai-medium {
      background: rgba(255, 183, 77, 0.2);
      color: #ffcc80;
      border: 1px solid rgba(255, 183, 77, 0.4);
    }
    
    .ai-low {
      background: rgba(229, 115, 115, 0.2);
      color: #f28b82;
      border: 1px solid rgba(229, 115, 115, 0.4);
    }
    
    .search-results {
      margin-top: 12px;
      padding: 12px;
      background: rgba(30, 38, 58, 0.6);
      border-radius: 8px;
      border-left: 3px solid var(--info);
    }
    
    .search-item {
      margin: 6px 0;
      padding-left: 15px;
      border-left: 2px solid rgba(126, 87, 194, 0.5);
      font-size: 0.95rem;
    }
    
    .search-highlight {
      color: var(--success);
      font-weight: 500;
    }
    
    .loading {
      display: inline-block;
      width: 16px;
      height: 16px;
      border: 2px solid rgba(126, 87, 194, 0.3);
      border-radius: 50%;
      border-top-color: var(--info);
      animation: spin 1s linear infinite;
      margin-right: 8px;
      vertical-align: middle;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .hardware-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 16px;
      margin-top: 16px;
    }
    
    .hardware-item {
      background: rgba(30, 38, 58, 0.6);
      padding: 14px;
      border-radius: 8px;
      border-left: 3px solid var(--primary);
    }
    
    .hardware-label {
      font-size: 0.9rem;
      color: var(--muted);
      margin-bottom: 4px;
    }
    
    .hardware-value {
      font-weight: 500;
      color: var(--text);
    }
    
    .system-info {
      background: rgba(22, 27, 41, 0.7);
      border-radius: 12px;
      padding: 20px;
      margin: 24px 0;
      border: 1px solid var(--border);
    }
    
    .system-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 16px;
    }
    
    .system-item {
      text-align: center;
    }
    
    .system-icon {
      font-size: 2rem;
      margin-bottom: 8px;
      color: var(--primary);
    }
    
    .system-label {
      font-size: 0.9rem;
      color: var(--muted);
    }
    
    .system-value {
      font-weight: 600;
      font-size: 1.1rem;
      color: white;
      margin-top: 4px;
    }
    
    @media (max-width: 768px) {
      .grid {
        grid-template-columns: 1fr;
      }
      
      .hardware-grid {
        grid-template-columns: 1fr;
      }
      
      .system-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      
      h1 {
        font-size: 2rem;
      }
      
      .subtitle {
        font-size: 1rem;
        max-width: 100%;
      }
      
      .btn {
        padding: 16px;
        font-size: 1.15rem;
      }
    }
    
    @media (max-width: 480px) {
      .system-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>‚ö° CyberBench Pro</h1>
      <p class="subtitle">Advanced AI-Powered Hardware Identification ‚Ä¢ Precision Benchmarking ‚Ä¢ Web Search Integration</p>
    </header>

    <div class="system-info">
      <div class="system-grid">
        <div class="system-item">
          <div class="system-icon">üß†</div>
          <div class="system-label">CPU THREADS</div>
          <div class="system-value" id="cpuThreads">Detecting...</div>
        </div>
        <div class="system-item">
          <div class="system-icon">üéÆ</div>
          <div class="system-label">GPU TYPE</div>
          <div class="system-value" id="gpuType">Detecting...</div>
        </div>
        <div class="system-item">
          <div class="system-icon">üì±</div>
          <div class="system-label">DEVICE TYPE</div>
          <div class="system-value" id="deviceType">Detecting...</div>
        </div>
        <div class="system-item">
          <div class="system-icon">üåê</div>
          <div class="system-label">PLATFORM</div>
          <div class="system-value" id="platformType">Detecting...</div>
        </div>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <div class="card-header">
          <div class="card-icon">‚ö°</div>
          <div class="card-title">SINGLE-CORE PERFORMANCE</div>
        </div>
        <div class="label">SCORE</div>
        <div class="value" id="singleScore">-</div>
        <div class="sub-value">Higher is better</div>
      </div>
      
      <div class="card">
        <div class="card-header">
          <div class="card-icon">üåÄ</div>
          <div class="card-title">MULTI-CORE PERFORMANCE</div>
        </div>
        <div class="label">SCORE</div>
        <div class="value" id="multiScore">-</div>
        <div class="sub-value">Higher is better</div>
      </div>
      
      <div class="card">
        <div class="card-header">
          <div class="card-icon">üéÆ</div>
          <div class="card-title">GPU COMPUTE POWER</div>
        </div>
        <div class="label">SCORE</div>
        <div class="value" id="gpuScore">-</div>
        <div class="sub-value">Higher is better</div>
      </div>
    </div>

    <div class="card">
      <div class="card-header">
        <div class="card-icon">üîç</div>
        <div class="card-title">AI HARDWARE IDENTIFICATION</div>
      </div>
      
      <div class="hardware-grid">
        <div class="hardware-item">
          <div class="hardware-label">PROCESSOR</div>
          <div class="hardware-value" id="identifiedCPU">Analyzing system...</div>
          <span class="chip chip-primary" id="cpuConfidence">Identifying</span>
        </div>
        
        <div class="hardware-item">
          <div class="hardware-label">GRAPHICS CARD</div>
          <div class="hardware-value" id="identifiedGPU">Analyzing system...</div>
          <span class="chip chip-primary" id="gpuConfidence">Identifying</span>
        </div>
        
        <div class="hardware-item">
          <div class="hardware-label">SYSTEM TYPE</div>
          <div class="hardware-value" id="systemType">Analyzing system...</div>
          <span class="chip chip-primary" id="systemConfidence">Identifying</span>
        </div>
        
        <div class="hardware-item">
          <div class="hardware-label">USE CASE</div>
          <div class="hardware-value" id="useCase">Analyzing system...</div>
          <span class="chip chip-primary" id="useCaseConfidence">Identifying</span>
        </div>
      </div>
      
      <div class="ai-section">
        <div class="ai-header">
          <div class="ai-icon">üß†</div>
          <div class="ai-title">AI ANALYSIS IN PROGRESS</div>
          <div class="ai-confidence ai-high" id="aiConfidence">Confidence: 0%</div>
        </div>
        <div id="aiStatus">Collecting system information and performance signatures...</div>
        
        <div class="search-results" id="searchResults" style="display:none;">
          <div class="loading"></div>
          <span>Searching global hardware database for matching signatures...</span>
          <div id="searchItems"></div>
        </div>
      </div>
    </div>

    <div class="progress-container">
      <div class="progress-header">
        <span>BENCHMARK PROGRESS</span>
        <span id="progressText">0%</span>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
    </div>

    <button class="btn" id="runBtn">‚ñ∂Ô∏è BEGIN ADVANCED HARDWARE ANALYSIS</button>

    <div class="log-section">
      <div class="log-header">
        <div class="log-icon">üìã</div>
        <div class="log-title">SYSTEM ANALYSIS LOG</div>
      </div>
      <div class="log" id="log"></div>
    </div>
  </div>

  <script>
    // ================================
    // üîß COMPREHENSIVE HARDWARE DATABASE
    // ================================
    const HARDWARE_DATABASE = {
      // Desktop CPUs (Intel/AMD)
      desktopCPUs: [
        {
          name: "Intel Core i9-14900K",
          scoreRange: { single: [3300, 3700], multi: [46000, 52000] },
          coreConfig: { physical: 24, logical: 32 },
          architecture: "Raptor Lake Refresh",
          platform: ["windows", "desktop"],
          features: ["Intel Turbo Boost Max 3.0", "DDR5 Support"],
          signature: ["14900K", "i9-14900K", "Raptor Lake"]
        },
        {
          name: "Intel Core i7-14700K",
          scoreRange: { single: [3100, 3500], multi: [35000, 41000] },
          coreConfig: { physical: 20, logical: 28 },
          architecture: "Raptor Lake Refresh",
          platform: ["windows", "desktop"],
          features: ["Intel Turbo Boost Max 3.0", "DDR5 Support"],
          signature: ["14700K", "i7-14700K", "Raptor Lake"]
        },
        {
          name: "AMD Ryzen 9 7950X3D",
          scoreRange: { single: [3000, 3400], multi: [38000, 44000] },
          coreConfig: { physical: 16, logical: 32 },
          architecture: "Zen 4",
          platform: ["windows", "desktop"],
          features: ["3D V-Cache", "DDR5 Support"],
          signature: ["7950X3D", "Ryzen 9 7950X3D", "Zen 4"]
        },
        {
          name: "AMD Ryzen 9 7950X",
          scoreRange: { single: [2950, 3350], multi: [34000, 40000] },
          coreConfig: { physical: 16, logical: 32 },
          architecture: "Zen 4",
          platform: ["windows", "desktop"],
          features: ["DDR5 Support", "AM5 Socket"],
          signature: ["7950X", "Ryzen 9 7950X", "Zen 4"]
        }
      ],
      
      // Apple Silicon
      appleCPUs: [
        {
          name: "Apple M3 Ultra",
          scoreRange: { single: [2800, 3200], multi: [62000, 72000] },
          coreConfig: { performance: 16, efficiency: 16, gpu: 60 },
          architecture: "Apple Silicon (5nm)",
          platform: ["macos", "ios"],
          features: ["Unified Memory", "Hardware Ray Tracing"],
          signature: ["M3 Ultra", "Apple M3 Ultra", "Mac Studio"]
        },
        {
          name: "Apple M3 Max",
          scoreRange: { single: [2700, 3100], multi: [32000, 38000] },
          coreConfig: { performance: 12, efficiency: 4, gpu: 40 },
          architecture: "Apple Silicon (5nm)",
          platform: ["macos", "ios"],
          features: ["Unified Memory", "Hardware Ray Tracing"],
          signature: ["M3 Max", "Apple M3 Max", "MacBook Pro"]
        },
        {
          name: "Apple M3 Pro",
          scoreRange: { single: [2600, 3000], multi: [24000, 30000] },
          coreConfig: { performance: 11, efficiency: 4, gpu: 14 },
          architecture: "Apple Silicon (5nm)",
          platform: ["macos", "ios"],
          features: ["Unified Memory", "Hardware Ray Tracing"],
          signature: ["M3 Pro", "Apple M3 Pro", "MacBook Pro"]
        },
        {
          name: "Apple M3",
          scoreRange: { single: [2500, 2900], multi: [14000, 18000] },
          coreConfig: { performance: 8, efficiency: 4, gpu: 10 },
          architecture: "Apple Silicon (5nm)",
          platform: ["macos", "ios"],
          features: ["Unified Memory"],
          signature: ["M3", "Apple M3", "MacBook Air"]
        },
        {
          name: "Apple A18 Pro",
          scoreRange: { single: [2300, 2700], multi: [8500, 10500] },
          coreConfig: { performance: 2, efficiency: 4, gpu: 6 },
          architecture: "Apple Silicon (3nm)",
          platform: ["ios"],
          features: ["Hardware Ray Tracing", "Neural Engine"],
          signature: ["A18 Pro", "Apple A18 Pro", "iPhone 16 Pro"]
        },
        {
          name: "Apple A17 Pro",
          scoreRange: { single: [2200, 2600], multi: [7500, 9500] },
          coreConfig: { performance: 2, efficiency: 4, gpu: 6 },
          architecture: "Apple Silicon (3nm)",
          platform: ["ios"],
          features: ["Hardware Ray Tracing", "Neural Engine"],
          signature: ["A17 Pro", "Apple A17 Pro", "iPhone 15 Pro"]
        }
      ],
      
      // Mobile CPUs (Android)
      mobileCPUs: [
        {
          name: "Qualcomm Snapdragon 8 Gen 3",
          scoreRange: { single: [1900, 2300], multi: [7000, 9000] },
          coreConfig: { performance: 1, mid: 4, efficiency: 3 },
          architecture: "4nm (Samsung)",
          platform: ["android"],
          features: ["Adreno 750 GPU", "Hexagon NPU"],
          signature: ["Snapdragon 8 Gen 3", "SM8650", "Qualcomm"]
        },
        {
          name: "MediaTek Dimensity 9300+",
          scoreRange: { single: [1800, 2200], multi: [8000, 10000] },
          coreConfig: { performance: 4, efficiency: 4 },
          architecture: "4nm (TSMC)",
          platform: ["android"],
          features: ["Immortalis-G720 GPU", "APU 790"],
          signature: ["Dimensity 9300+", "MediaTek", "Vivo X100"]
        },
        {
          name: "Samsung Exynos 2400",
          scoreRange: { single: [1700, 2100], multi: [6500, 8500] },
          coreConfig: { performance: 1, mid: 4, efficiency: 3 },
          architecture: "4nm (Samsung)",
          platform: ["android"],
          features: ["Xclipse 940 GPU", "NPU"],
          signature: ["Exynos 2400", "Samsung", "Galaxy S24"]
        }
      ],
      
      // Desktop GPUs
      desktopGPUs: [
        {
          name: "NVIDIA GeForce RTX 4090",
          computeRange: [55000, 70000],
          memory: "24GB GDDR6X",
          architecture: "Ada Lovelace",
          platform: ["windows", "desktop"],
          features: ["DLSS 3.5", "Ray Tracing", "CUDA Cores"],
          signature: ["RTX 4090", "GeForce RTX 4090", "NVIDIA"]
        },
        {
          name: "AMD Radeon RX 7900 XTX",
          computeRange: [48000, 58000],
          memory: "24GB GDDR6",
          architecture: "RDNA 3",
          platform: ["windows", "desktop"],
          features: ["FSR 3", "Ray Tracing", "Compute Units"],
          signature: ["RX 7900 XTX", "Radeon RX 7900 XTX", "AMD"]
        },
        {
          name: "Intel Arc A770",
          computeRange: [25000, 32000],
          memory: "16GB GDDR6",
          architecture: "Alchemist",
          platform: ["windows", "desktop"],
          features: ["XeSS", "Ray Tracing", "Xe Cores"],
          signature: ["Arc A770", "Intel Arc A770", "Intel"]
        }
      ],
      
      // Integrated/Mobile GPUs
      integratedGPUs: [
        {
          name: "Apple M3 Ultra GPU",
          computeRange: [45000, 55000],
          coreCount: 60,
          architecture: "Apple GPU",
          platform: ["macos", "ios"],
          features: ["Unified Memory", "Hardware Ray Tracing"],
          signature: ["M3 Ultra GPU", "Apple GPU", "Mac Studio"]
        },
        {
          name: "Apple M3 Max GPU",
          computeRange: [35000, 45000],
          coreCount: 40,
          architecture: "Apple GPU",
          platform: ["macos", "ios"],
          features: ["Unified Memory", "Hardware Ray Tracing"],
          signature: ["M3 Max GPU", "Apple GPU", "MacBook Pro"]
        },
        {
          name: "Qualcomm Adreno 750",
          computeRange: [12000, 18000],
          architecture: "Adreno",
          platform: ["android"],
          features: ["Vulkan 1.3", "OpenGL ES 3.2"],
          signature: ["Adreno 750", "Snapdragon 8 Gen 3", "Qualcomm"]
        },
        {
          name: "Apple A18 Pro GPU",
          computeRange: [10000, 15000],
          coreCount: 6,
          architecture: "Apple GPU",
          platform: ["ios"],
          features: ["Hardware Ray Tracing", "Metal API"],
          signature: ["A18 Pro GPU", "Apple GPU", "iPhone 16 Pro"]
        }
      ],
      
      systemProfiles: [
        {
          name: "Workstation",
          cpuMin: 40000,
          gpuMin: 40000,
          memoryMin: 32,
          platforms: ["windows", "macos"],
          useCase: "3D Rendering, AI Development, Scientific Computing"
        },
        {
          name: "Gaming Enthusiast",
          cpuMin: 30000,
          gpuMin: 45000,
          memoryMin: 16,
          platforms: ["windows"],
          useCase: "4K Gaming, VR, Streaming, Content Creation"
        },
        {
          name: "Professional Creator",
          cpuMin: 20000,
          gpuMin: 25000,
          memoryMin: 32,
          platforms: ["macos", "windows"],
          useCase: "Video Editing, 3D Modeling, Music Production"
        },
        {
          name: "Premium Mobile",
          cpuMin: 7000,
          gpuMin: 10000,
          memoryMin: 8,
          platforms: ["ios", "android"],
          useCase: "Mobile Gaming, Video Editing, AR Applications"
        },
        {
          name: "Productivity Laptop",
          cpuMin: 12000,
          gpuMin: 8000,
          memoryMin: 16,
          platforms: ["windows", "macos"],
          useCase: "Office Work, Web Browsing, Media Consumption"
        }
      ]
    };

    // DOM Elements
    const el = {
      runBtn: document.getElementById('runBtn'),
      progressFill: document.getElementById('progressFill'),
      progressText: document.getElementById('progressText'),
      log: document.getElementById('log'),
      singleScore: document.getElementById('singleScore'),
      multiScore: document.getElementById('multiScore'),
      gpuScore: document.getElementById('gpuScore'),
      cpuThreads: document.getElementById('cpuThreads'),
      gpuType: document.getElementById('gpuType'),
      deviceType: document.getElementById('deviceType'),
      platformType: document.getElementById('platformType'),
      identifiedCPU: document.getElementById('identifiedCPU'),
      identifiedGPU: document.getElementById('identifiedGPU'),
      systemType: document.getElementById('systemType'),
      useCase: document.getElementById('useCase'),
      cpuConfidence: document.getElementById('cpuConfidence'),
      gpuConfidence: document.getElementById('gpuConfidence'),
      systemConfidence: document.getElementById('systemConfidence'),
      useCaseConfidence: document.getElementById('useCaseConfidence'),
      aiConfidence: document.getElementById('aiConfidence'),
      aiStatus: document.getElementById('aiStatus'),
      searchResults: document.getElementById('searchResults'),
      searchItems: document.getElementById('searchItems')
    };

    // ================================
    // üì± ADVANCED SYSTEM DETECTION
    // ================================
    function getSystemInfo() {
      const info = {
        userAgent: navigator.userAgent,
        platform: navigator.platform || 'unknown',
        hardwareConcurrency: navigator.hardwareConcurrency || 4,
        deviceMemory: navigator.deviceMemory || 0,
        gpuAPI: 'none',
        gpuVendor: 'Unknown',
        gpuRenderer: 'Unknown GPU',
        deviceClass: 'desktop',
        os: 'unknown',
        manufacturer: 'unknown',
        model: 'unknown',
        cpuVendor: 'unknown',
        cpuModel: 'unknown',
        hasTouch: 'ontouchstart' in window || navigator.maxTouchPoints > 0
      };
      
      // OS detection
      if (/Windows NT 10\.0/.test(info.userAgent)) info.os = 'windows 10';
      else if (/Windows NT 11\.0/.test(info.userAgent)) info.os = 'windows 11';
      else if (/Mac OS X 1[0-9]_[0-9]+/.test(info.userAgent)) {
        info.os = 'macos';
        const versionMatch = info.userAgent.match(/Mac OS X 1([0-9])_([0-9]+)/);
        if (versionMatch) info.osVersion = `${versionMatch[1]}.${versionMatch[2]}`;
      }
      else if (/iPad|iPhone|iPod/.test(info.userAgent)) {
        info.os = 'ios';
        if (/iPhone17,[1-9]/.test(info.userAgent)) info.model = 'iPhone 16 Pro';
        else if (/iPhone16,[2-9]/.test(info.userAgent)) info.model = 'iPhone 15 Pro';
        else if (/iPad14,[3-6]/.test(info.userAgent)) info.model = 'iPad Pro (M2)';
      }
      else if (/Android 1[0-9]/.test(info.userAgent)) {
        info.os = 'android';
        const versionMatch = info.userAgent.match(/Android ([0-9]+\.?[0-9]*)/);
        if (versionMatch) info.osVersion = versionMatch[1];
      }
      
      // Device class
      if (/Mobile|Android.*Mobile|iPhone|iPad|iPod|Opera Mini|IEMobile/.test(info.userAgent)) {
        info.deviceClass = 'mobile';
      } else if (/Tablet|iPad/.test(info.userAgent)) {
        info.deviceClass = 'tablet';
      }
      
      // Manufacturer hints
      if (/iPhone|iPad|iPod/.test(info.userAgent)) info.manufacturer = 'apple';
      else if (/Samsung/.test(info.userAgent)) info.manufacturer = 'samsung';
      else if (/Google|Pixel/.test(info.userAgent)) info.manufacturer = 'google';
      else if (/OnePlus/.test(info.userAgent)) info.manufacturer = 'oneplus';
      else if (/Mac OS X/.test(info.userAgent)) info.manufacturer = 'apple';
      else if (/Windows/.test(info.userAgent)) info.manufacturer = 'pc';
      
      // CPU vendor
      if (/Intel|X86|x86_64/.test(info.userAgent)) info.cpuVendor = 'intel';
      else if (/AMD|RYZEN/i.test(info.userAgent)) info.cpuVendor = 'amd';
      else if (/Apple|ARM|aarch64|M1|M2|M3|A1[0-9]/.test(info.userAgent)) info.cpuVendor = 'apple';
      else if (/Snapdragon|Qualcomm/.test(info.userAgent)) info.cpuVendor = 'qualcomm';
      else if (/Exynos|Samsung/.test(info.userAgent)) info.cpuVendor = 'samsung';
      else if (/Dimensity|MediaTek/.test(info.userAgent)) info.cpuVendor = 'mediatek';
      
      // GPU detection
      try {
        const canvas = document.createElement('canvas');
        const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
        
        if (gl) {
          const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
          if (debugInfo) {
            info.gpuVendor = gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL) || 'Unknown Vendor';
            info.gpuRenderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) || 'Unknown Renderer';
          } else {
            info.gpuVendor = gl.getParameter(gl.VENDOR) || 'Unknown Vendor';
            info.gpuRenderer = gl.getParameter(gl.RENDERER) || 'Unknown Renderer';
          }
          
          // Clean up renderer string
          const cleanedRenderer = info.gpuRenderer.replace(/ANGLE\s*\([^)]*\)|Direct3D\s*\d+|llvmpipe\s*\([^)]*\)/gi, '').trim();
          if (cleanedRenderer) info.gpuRenderer = cleanedRenderer;
          
          info.gpuAPI = 'webgl';
        }
      } catch (e) {
        log(`GPU detection failed: ${e.message}`, 'error');
      }
      
      return info;
    }

    // ================================
    // üí• INTENSIVE & CONSISTENT BENCHMARKS
    // ================================
    async function runSingleCoreBenchmark() {
      return new Promise((resolve) => {
        const startTime = performance.now();
        
        // Fixed intensive workload
        let total = 0;
        const width = 700;
        const height = 700;
        const maxIter = 250;
        const xmin = -2.0, xmax = 1.0, ymin = -1.5, ymax = 1.5;
        
        for (let y = 0; y < height; y++) {
          for (let x = 0; x < width; x++) {
            let cr = ymin + (ymax - ymin) * y / height;
            let ci = xmin + (xmax - xmin) * x / width;
            let zr = 0, zi = 0, iter = 0;
            
            while (zr * zr + zi * zi < 4 && iter < maxIter) {
              const temp = zr * zr - zi * zi + cr;
              zi = 2 * zr * zi + ci;
              zr = temp;
              iter++;
            }
            if (iter === maxIter) total++;
          }
        }
        
        // Prime number calculation
        let primeCount = 0;
        let num = 2;
        const targetPrimes = 4000;
        while (primeCount < targetPrimes) {
          if (isPrime(num)) primeCount++;
          num++;
        }
        
        const endTime = performance.now();
        const executionTime = endTime - startTime;
        
        // Calibrated score
        const baseTime = 1200; // Reference time for base score
        const score = Math.round(2700 * (baseTime / executionTime));
        
        resolve({ score, executionTime, totalMandelbrot: total, totalPrimes: primeCount });
      });
    }
    
    function isPrime(n) {
      if (n < 2) return false;
      if (n % 2 === 0) return n === 2;
      const sqrt = Math.sqrt(n);
      for (let i = 3; i <= sqrt; i += 2) {
        if (n % i === 0) return false;
      }
      return true;
    }

    async function runMultiCoreBenchmark(coreCount) {
      return new Promise((resolve) => {
        const workers = [];
        const results = [];
        let completed = 0;
        const startTime = performance.now();
        
        // Use 80% of available cores for stability
        const workerCount = Math.max(2, Math.min(Math.floor(coreCount * 0.8), 16));
        
        const workerCode = `
          self.onmessage = function() {
            let total = 0;
            const width = 500;
            const height = 500;
            const maxIter = 200;
            const xmin = -2.0, xmax = 1.0, ymin = -1.5, ymax = 1.5;
            
            for (let y = 0; y < height; y++) {
              for (let x = 0; x < width; x++) {
                let cr = ymin + (ymax - ymin) * y / height;
                let ci = xmin + (xmax - xmin) * x / width;
                let zr = 0, zi = 0, iter = 0;
                
                while (zr * zr + zi * zi < 4 && iter < maxIter) {
                  const temp = zr * zr - zi * zi + cr;
                  zi = 2 * zr * zi + ci;
                  zr = temp;
                  iter++;
                }
                if (iter === maxIter) total++;
              }
            }
            
            // Prime calculation
            let primeCount = 0;
            let num = 2;
            const target = 2500;
            while (primeCount < target) {
              if (isPrime(num)) primeCount++;
              num++;
            }
            
            function isPrime(n) {
              if (n < 2) return false;
              if (n % 2 === 0) return n === 2;
              const sqrt = Math.sqrt(n);
              for (let i = 3; i <= sqrt; i += 2) {
                if (n % i === 0) return false;
              }
              return true;
            }
            
            self.postMessage({ totalMandelbrot: total, totalPrimes: primeCount });
          };
        `;
        
        for (let i = 0; i < workerCount; i++) {
          const blob = new Blob([workerCode], { type: 'application/javascript' });
          const worker = new Worker(URL.createObjectURL(blob));
          
          worker.onmessage = (e) => {
            results.push(e.data);
            completed++;
            
            if (completed === workerCount) {
              const endTime = performance.now();
              const executionTime = endTime - startTime;
              
              // Calculate total work
              const totalWork = results.reduce((sum, r) => sum + r.totalMandelbrot + r.totalPrimes, 0);
              
              // Calibrated score
              const baseTime = 2000; // Reference time
              const score = Math.round(10000 * (baseTime / executionTime) * workerCount);
              
              resolve({ score, executionTime, workerCount, totalWork });
            }
            
            worker.terminate();
          };
          
          worker.onerror = (e) => {
            log(`Worker error: ${e.message}`, 'error');
            completed++;
            if (completed === workerCount) {
              const endTime = performance.now();
              const executionTime = endTime - startTime;
              resolve({ score: 0, executionTime, workerCount, error: true });
            }
            worker.terminate();
          };
          
          workers.push(worker);
          worker.postMessage('start');
        }
      });
    }

    async function runGPUBenchmark() {
      return new Promise((resolve) => {
        try {
          const canvas = document.createElement('canvas');
          canvas.width = 800;
          canvas.height = 800;
          
          const gl = canvas.getContext('webgl', { 
            antialias: false, 
            alpha: false, 
            depth: false, 
            stencil: false
          }) || canvas.getContext('experimental-webgl', {
            antialias: false,
            alpha: false,
            depth: false,
            stencil: false
          });
          
          if (!gl) throw new Error("WebGL not supported");
          
          // Intensive fragment shader
          const fs = `
            precision highp float;
            uniform float time;
            uniform vec2 resolution;
            
            float noise(vec2 p) {
              return fract(sin(dot(p, vec2(12.9898, 78.233))) * 43758.5453);
            }
            
            float fbm(vec2 p) {
              float value = 0.0;
              float amplitude = 0.5;
              for (int i = 0; i < 5; i++) {
                value += amplitude * noise(p);
                p *= 2.0;
                amplitude *= 0.5;
              }
              return value;
            }
            
            void main() {
              vec2 uv = gl_FragCoord.xy / resolution;
              uv = uv * 2.0 - 1.0;
              
              float n1 = fbm(uv + time * 0.1);
              float n2 = fbm(uv * 2.0 + time * 0.2);
              float n3 = fbm(uv * 4.0 + time * 0.3);
              
              vec3 color = vec3(
                sin(n1 * 3.14159 + time) * 0.5 + 0.5,
                sin(n2 * 3.14159 + time * 1.5) * 0.5 + 0.5,
                sin(n3 * 3.14159 + time * 2.0) * 0.5 + 0.5
              );
              
              gl_FragColor = vec4(color, 1.0);
            }
          `;
          
          const vs = `attribute vec2 position; void main() { gl_Position = vec4(position, 0, 1); }`;
          
          function compileShader(type, source) {
            const shader = gl.createShader(type);
            gl.shaderSource(shader, source);
            gl.compileShader(shader);
            if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
              throw new Error('Shader compile error: ' + gl.getShaderInfoLog(shader));
            }
            return shader;
          }
          
          const vertexShader = compileShader(gl.VERTEX_SHADER, vs);
          const fragmentShader = compileShader(gl.FRAGMENT_SHADER, fs);
          
          const program = gl.createProgram();
          gl.attachShader(program, vertexShader);
          gl.attachShader(program, fragmentShader);
          gl.linkProgram(program);
          
          if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
            throw new Error('Program link error: ' + gl.getProgramInfoLog(program));
          }
          
          gl.useProgram(program);
          
          // Setup geometry
          const buffer = gl.createBuffer();
          gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
          gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1]), gl.STATIC_DRAW);
          
          const positionLocation = gl.getAttribLocation(program, 'position');
          gl.enableVertexAttribArray(positionLocation);
          gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);
          
          const resolutionLocation = gl.getUniformLocation(program, 'resolution');
          gl.uniform2f(resolutionLocation, canvas.width, canvas.height);
          
          const timeLocation = gl.getUniformLocation(program, 'time');
          
          // Consistent workload: 100 frames
          const totalFrames = 100;
          let frameCount = 0;
          const startTime = performance.now();
          
          function renderFrame() {
            if (frameCount < totalFrames) {
              gl.uniform1f(timeLocation, frameCount * 0.016);
              gl.clear(gl.COLOR_BUFFER_BIT);
              gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);
              frameCount++;
              requestAnimationFrame(renderFrame);
            } else {
              const endTime = performance.now();
              const executionTime = endTime - startTime;
              
              // Calibrated score
              const baseTime = 1500; // Reference time
              const score = Math.round(15000 * (baseTime / executionTime) * totalFrames);
              
              resolve({ score, executionTime, frames: frameCount, renderer: gl.getParameter(gl.RENDERER) });
            }
          }
          
          renderFrame();
          
        } catch (e) {
          log(`GPU benchmark failed: ${e.message}`, 'error');
          resolve({ score: 0, error: e.message });
        }
      });
    }

    // ================================
    // ü§ñ ADVANCED AI HARDWARE IDENTIFICATION
    // ================================
    const HARDWARE_IDENTIFIER = {
      identifyCPU: function(singleScore, multiScore, coreCount, systemInfo) {
        let bestMatch = { name: "Unknown Processor", confidence: 0 };
        let candidates = [];
        
        // Select candidate pool based on platform and device class
        if (systemInfo.os === 'ios' || systemInfo.os === 'macos') {
          candidates = HARDWARE_DATABASE.appleCPUs;
        } else if (systemInfo.deviceClass === 'mobile' || systemInfo.deviceClass === 'tablet') {
          candidates = HARDWARE_DATABASE.mobileCPUs;
        } else {
          candidates = HARDWARE_DATABASE.desktopCPUs;
        }
        
        // Evaluate all candidates
        for (const cpu of candidates) {
          let confidence = 0;
          
          // Single-core performance match (30% weight)
          const singleDiff = Math.min(
            Math.abs(singleScore - cpu.scoreRange.single[0]),
            Math.abs(singleScore - cpu.scoreRange.single[1])
          );
          const singleRange = cpu.scoreRange.single[1] - cpu.scoreRange.single[0];
          confidence += 30 * (1 - Math.min(1, singleDiff / (singleRange * 0.7)));
          
          // Multi-core performance match (40% weight)
          const multiDiff = Math.min(
            Math.abs(multiScore - cpu.scoreRange.multi[0]),
            Math.abs(multiScore - cpu.scoreRange.multi[1])
          );
          const multiRange = cpu.scoreRange.multi[1] - cpu.scoreRange.multi[0];
          confidence += 40 * (1 - Math.min(1, multiDiff / (multiRange * 0.7)));
          
          // Core count match (20% weight)
          const coreDiff = Math.abs(coreCount - ((cpu.coreConfig.physical || cpu.coreConfig.performance) + (cpu.coreConfig.efficiency || 0)));
          confidence += 20 * (1 - Math.min(1, coreDiff / 8));
          
          // Platform and signature match (10% weight)
          if (cpu.platform.includes(systemInfo.os.split(' ')[0])) {
            confidence += 5;
          }
          
          const signatureLower = systemInfo.userAgent.toLowerCase();
          for (const sig of cpu.signature) {
            if (signatureLower.includes(sig.toLowerCase())) {
              confidence += 5;
              break;
            }
          }
          
          if (confidence > bestMatch.confidence) {
            bestMatch = { name: cpu.name, confidence, details: cpu };
          }
        }
        
        return {
          name: bestMatch.confidence >= 75 ? bestMatch.name : this.fallbackCPUIdentification(singleScore, multiScore, coreCount, systemInfo),
          confidence: Math.min(95, bestMatch.confidence),
          needsSearch: bestMatch.confidence < 75,
          details: bestMatch.details
        };
      },
      
      fallbackCPUIdentification: function(singleScore, multiScore, coreCount, systemInfo) {
        if (systemInfo.os === 'ios') {
          if (singleScore > 2200) return "Apple A18 Pro/A17 Pro";
          return "Apple A-series Processor";
        } else if (systemInfo.os === 'macos') {
          if (multiScore > 50000) return "Apple M3 Ultra";
          if (multiScore > 30000) return "Apple M3 Max";
          if (multiScore > 20000) return "Apple M3 Pro";
          return "Apple M-series Processor";
        } else if (systemInfo.deviceClass === 'mobile') {
          if (systemInfo.cpuVendor === 'qualcomm') return "Qualcomm Snapdragon 8 Gen 3";
          if (systemInfo.cpuVendor === 'mediatek') return "MediaTek Dimensity 9300+";
          if (systemInfo.cpuVendor === 'samsung') return "Samsung Exynos 2400";
          return "High-end Mobile Processor";
        } else {
          if (multiScore > 40000) return "Intel Core i9 / AMD Ryzen 9";
          if (multiScore > 30000) return "Intel Core i7 / AMD Ryzen 7";
          if (multiScore > 20000) return "Intel Core i5 / AMD Ryzen 5";
          return "Mainstream Desktop Processor";
        }
      },
      
      identifyGPU: function(gpuScore, systemInfo) {
        let bestMatch = { name: "Unknown GPU", confidence: 0 };
        let candidates = [];
        
        // Select candidate pool
        if (systemInfo.os === 'ios' || systemInfo.os === 'macos') {
          candidates = HARDWARE_DATABASE.integratedGPUs.filter(gpu => gpu.signature.includes('Apple'));
        } else if (systemInfo.deviceClass === 'mobile' || systemInfo.deviceClass === 'tablet') {
          candidates = HARDWARE_DATABASE.integratedGPUs.filter(gpu => !gpu.signature.includes('Apple'));
        } else {
          candidates = HARDWARE_DATABASE.desktopGPUs;
        }
        
        // Evaluate candidates
        for (const gpu of candidates) {
          let confidence = 0;
          
          // Compute score match (60% weight)
          const scoreDiff = Math.min(
            Math.abs(gpuScore - gpu.computeRange[0]),
            Math.abs(gpuScore - gpu.computeRange[1])
          );
          const scoreRange = gpu.computeRange[1] - gpu.computeRange[0];
          confidence += 60 * (1 - Math.min(1, scoreDiff / (scoreRange * 0.7)));
          
          // Renderer signature match (30% weight)
          const rendererLower = systemInfo.gpuRenderer.toLowerCase();
          for (const sig of gpu.signature) {
            if (rendererLower.includes(sig.toLowerCase())) {
              confidence += 30;
              break;
            }
          }
          
          // Platform match (10% weight)
          if (gpu.platform.includes(systemInfo.os.split(' ')[0])) {
            confidence += 10;
          }
          
          if (confidence > bestMatch.confidence) {
            bestMatch = { name: gpu.name, confidence, details: gpu };
          }
        }
        
        return {
          name: bestMatch.confidence >= 75 ? bestMatch.name : this.fallbackGPUIdentification(gpuScore, systemInfo),
          confidence: Math.min(95, bestMatch.confidence),
          needsSearch: bestMatch.confidence < 75,
          details: bestMatch.details
        };
      },
      
      fallbackGPUIdentification: function(gpuScore, systemInfo) {
        if (systemInfo.os === 'ios') {
          if (gpuScore > 12000) return "Apple A18 Pro/A17 Pro GPU";
          return "Apple Mobile GPU";
        } else if (systemInfo.os === 'macos') {
          if (gpuScore > 40000) return "Apple M3 Ultra GPU";
          if (gpuScore > 30000) return "Apple M3 Max GPU";
          return "Apple M-series GPU";
        } else if (systemInfo.deviceClass === 'mobile') {
          if (systemInfo.gpuRenderer.toLowerCase().includes('adreno')) return "Qualcomm Adreno GPU";
          if (systemInfo.gpuRenderer.toLowerCase().includes('mali')) return "ARM Mali GPU";
          return "Mobile Graphics Processor";
        } else {
          if (gpuScore > 50000) return "NVIDIA RTX 4090/AMD RX 7900";
          if (gpuScore > 35000) return "NVIDIA RTX 4070/AMD RX 7800";
          if (gpuScore > 20000) return "Mid-range Desktop GPU";
          return "Integrated/Dedicated Graphics";
        }
      },
      
      identifySystemType: function(multiScore, gpuScore, systemInfo) {
        const profiles = HARDWARE_DATABASE.systemProfiles;
        let bestMatch = { name: "General Purpose", confidence: 0, details: null };
        
        for (const profile of profiles) {
          let confidence = 0;
          
          // CPU score match
          if (multiScore >= profile.cpuMin) {
            confidence += 30;
          }
          
          // GPU score match
          if (gpuScore >= profile.gpuMin) {
            confidence += 30;
          }
          
          // Memory match
          if (systemInfo.deviceMemory >= profile.memoryMin) {
            confidence += 20;
          }
          
          // Platform match
          if (profile.platforms.includes(systemInfo.os.split(' ')[0])) {
            confidence += 20;
          }
          
          if (confidence > bestMatch.confidence) {
            bestMatch = { name: profile.name, confidence, details: profile };
          }
        }
        
        return {
          name: bestMatch.name,
          confidence: bestMatch.confidence,
          useCase: bestMatch.details ? bestMatch.details.useCase : "General computing tasks"
        };
      },
      
      // Simulate web search using AI reasoning
      simulateWebSearch: function(systemInfo, scores, cpuResult, gpuResult) {
        log("üåê AI initiating web search simulation for hardware verification...", 'info');
        
        const results = [];
        const cpuSearch = { matches: [], confidence: 0 };
        const gpuSearch = { matches: [], confidence: 0 };
        
        // CPU search logic
        if (cpuResult.needsSearch) {
          // Apple ecosystem analysis
          if (systemInfo.os === 'ios') {
            if (scores.singleCore > 2200 && scores.multiCore > 8000) {
              cpuSearch.matches.push("Apple A18 Pro ‚Ä¢ iPhone 16 Pro/Max ‚Ä¢ 6-core CPU (2P+4E)");
              cpuSearch.confidence = 90;
            } else if (scores.singleCore > 2100 && scores.multiCore > 7000) {
              cpuSearch.matches.push("Apple A17 Pro ‚Ä¢ iPhone 15 Pro/Max ‚Ä¢ 6-core CPU (2P+4E)");
              cpuSearch.confidence = 85;
            }
          } else if (systemInfo.os === 'macos') {
            if (scores.multiCore > 60000) {
              cpuSearch.matches.push("Apple M3 Ultra ‚Ä¢ Mac Studio ‚Ä¢ 24-core CPU (16P+8E)");
              cpuSearch.confidence = 90;
            } else if (scores.multiCore > 30000) {
              cpuSearch.matches.push("Apple M3 Max ‚Ä¢ MacBook Pro ‚Ä¢ 12-core CPU (8P+4E)");
              cpuSearch.confidence = 85;
            } else if (scores.multiCore > 20000) {
              cpuSearch.matches.push("Apple M3 Pro ‚Ä¢ MacBook Pro ‚Ä¢ 11-core CPU (8P+4E)");
              cpuSearch.confidence = 80;
            } else {
              cpuSearch.matches.push("Apple M3 ‚Ä¢ MacBook Air ‚Ä¢ 8-core CPU (4P+4E)");
              cpuSearch.confidence = 75;
            }
          } 
          // Windows/Android analysis
          else if (systemInfo.manufacturer === 'pc') {
            if (scores.multiCore > 45000) {
              cpuSearch.matches.push("Intel Core i9-14900K ‚Ä¢ High-end Desktop ‚Ä¢ 24-core CPU (8P+16E)");
              cpuSearch.confidence = 85;
            } else if (scores.multiCore > 35000) {
              cpuSearch.matches.push("Intel Core i7-14700K ‚Ä¢ Performance Desktop ‚Ä¢ 20-core CPU (8P+12E)");
              cpuSearch.confidence = 80;
            } else if (scores.multiCore > 25000) {
              cpuSearch.matches.push("Intel Core i5-14600K ‚Ä¢ Mainstream Desktop ‚Ä¢ 14-core CPU (6P+8E)");
              cpuSearch.confidence = 75;
            } else if (scores.multiCore > 38000) {
              cpuSearch.matches.push("AMD Ryzen 9 7950X ‚Ä¢ High-end Desktop ‚Ä¢ 16-core CPU");
              cpuSearch.confidence = 85;
            }
          } else if (systemInfo.os === 'android') {
            if (systemInfo.gpuRenderer.toLowerCase().includes('adreno')) {
              cpuSearch.matches.push("Qualcomm Snapdragon 8 Gen 3 ‚Ä¢ Android Flagship ‚Ä¢ 8-core CPU (1+5+2)");
              cpuSearch.confidence = 85;
            } else if (systemInfo.gpuRenderer.toLowerCase().includes('mali')) {
              cpuSearch.matches.push("MediaTek Dimensity 9300+ ‚Ä¢ Android Premium ‚Ä¢ 8-core CPU (4+4)");
              cpuSearch.confidence = 80;
            } else if (systemInfo.gpuRenderer.toLowerCase().includes('xclipse')) {
              cpuSearch.matches.push("Samsung Exynos 2400 ‚Ä¢ Galaxy S24 ‚Ä¢ 8-core CPU (1+2+3+2)");
              cpuSearch.confidence = 80;
            }
          }
          
          // Add search results
          cpuSearch.matches.forEach(match => {
            results.push(`üîç CPU Match: ${match}`);
          });
        }
        
        // GPU search logic
        if (gpuResult.needsSearch) {
          // Apple ecosystem
          if (systemInfo.os === 'ios' || systemInfo.os === 'macos') {
            if (scores.gpuScore > 45000) {
              gpuSearch.matches.push("Apple M3 Ultra GPU ‚Ä¢ 60-core ‚Ä¢ Mac Studio");
              gpuSearch.confidence = 90;
            } else if (scores.gpuScore > 35000) {
              gpuSearch.matches.push("Apple M3 Max GPU ‚Ä¢ 40-core ‚Ä¢ MacBook Pro");
              gpuSearch.confidence = 85;
            } else if (scores.gpuScore > 12000) {
              gpuSearch.matches.push("Apple A18 Pro GPU ‚Ä¢ 6-core ‚Ä¢ iPhone 16 Pro");
              gpuSearch.confidence = 85;
            }
          }
          // Windows desktop
          else if (systemInfo.manufacturer === 'pc' && systemInfo.deviceClass === 'desktop') {
            if (scores.gpuScore > 55000) {
              gpuSearch.matches.push("NVIDIA GeForce RTX 4090 ‚Ä¢ 16384 CUDA Cores ‚Ä¢ 24GB GDDR6X");
              gpuSearch.confidence = 90;
            } else if (scores.gpuScore > 45000) {
              gpuSearch.matches.push("NVIDIA GeForce RTX 4080 ‚Ä¢ 9728 CUDA Cores ‚Ä¢ 16GB GDDR6X");
              gpuSearch.confidence = 85;
            } else if (scores.gpuScore > 48000) {
              gpuSearch.matches.push("AMD Radeon RX 7900 XTX ‚Ä¢ 6144 Stream Processors ‚Ä¢ 24GB GDDR6");
              gpuSearch.confidence = 85;
            } else if (scores.gpuScore > 25000) {
              gpuSearch.matches.push("Intel Arc A770 ‚Ä¢ 512 Xe Cores ‚Ä¢ 16GB GDDR6");
              gpuSearch.confidence = 80;
            }
          }
          // Android mobile
          else if (systemInfo.os === 'android') {
            if (systemInfo.gpuRenderer.toLowerCase().includes('adreno')) {
              gpuSearch.matches.push("Qualcomm Adreno 750 ‚Ä¢ Snapdragon 8 Gen 3 ‚Ä¢ Android Flagship");
              gpuSearch.confidence = 85;
            } else if (systemInfo.gpuRenderer.toLowerCase().includes('mali')) {
              gpuSearch.matches.push("ARM Mali-G720 ‚Ä¢ Dimensity 9300+ ‚Ä¢ Android Premium");
              gpuSearch.confidence = 80;
            } else if (systemInfo.gpuRenderer.toLowerCase().includes('xclipse')) {
              gpuSearch.matches.push("Samsung Xclipse 940 ‚Ä¢ Exynos 2400 ‚Ä¢ Galaxy S24");
              gpuSearch.confidence = 80;
            }
          }
          
          // Add search results
          gpuSearch.matches.forEach(match => {
            results.push(`üîç GPU Match: ${match}`);
          });
        }
        
        // Add contextual analysis
        if (cpuSearch.confidence > 0 || gpuSearch.confidence > 0) {
          let systemDescription = "High-performance system for ";
          
          if (scores.gpuScore > 45000 || (scores.gpuScore > 35000 && scores.multiCore > 30000)) {
            systemDescription += "gaming and 3D rendering";
          } else if (scores.multiCore > 40000) {
            systemDescription += "professional workloads and content creation";
          } else if (scores.singleCore > 2500) {
            systemDescription += "responsive multitasking and productivity";
          } else {
            systemDescription += "general computing and media consumption";
          }
          
          results.push(`üí° System Analysis: ${systemDescription}`);
        }
        
        return {
          cpu: cpuSearch.matches.length > 0 ? cpuSearch.matches[0].split('‚Ä¢')[0].trim() : cpuResult.name,
          gpu: gpuSearch.matches.length > 0 ? gpuSearch.matches[0].split('‚Ä¢')[0].trim() : gpuResult.name,
          confidence: {
            cpu: cpuSearch.confidence > 0 ? cpuSearch.confidence : cpuResult.confidence,
            gpu: gpuSearch.confidence > 0 ? gpuSearch.confidence : gpuResult.confidence
          },
          results
        };
      }
    };

    // ================================
    // üìù ADVANCED LOGGING & UI
    // ================================
    function log(msg, type = 'info') {
      const entry = document.createElement('div');
      entry.className = `log-entry log-${type}`;
      
      const timestamp = new Date().toLocaleTimeString('en-US', {
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: false
      });
      
      entry.innerHTML = `<span style="color:#888; margin-right:10px;">[${timestamp}]</span> ${msg}`;
      
      el.log.appendChild(entry);
      el.log.scrollTop = el.log.scrollHeight;
    }

    function updateProgress(pct, phase = null) {
      el.progressFill.style.width = `${pct}%`;
      el.progressText.textContent = `${Math.round(pct)}%`;
      
      if (phase) {
        el.aiStatus.textContent = phase;
      }
      
      // Update AI confidence
      el.aiConfidence.textContent = `Confidence: ${Math.round(pct * 0.8)}%`;
      el.aiConfidence.className = 'ai-confidence ' + 
        (pct >= 80 ? 'ai-high' : pct >= 60 ? 'ai-medium' : 'ai-low');
    }

    function setConfidenceBadge(element, confidence, isSearchResult = false) {
      element.textContent = isSearchResult ? 'Verified by AI' : `Confidence: ${Math.round(confidence)}%`;
      
      if (isSearchResult) {
        element.className = 'chip chip-success';
      } else if (confidence >= 80) {
        element.className = 'chip chip-success';
      } else if (confidence >= 60) {
        element.className = 'chip chip-warning';
      } else {
        element.className = 'chip chip-primary';
      }
    }

    // ================================
    // üöÄ MAIN BENCHMARK EXECUTION
    // ================================
    async function runBenchmark() {
      el.runBtn.disabled = true;
      el.runBtn.textContent = "‚ö° ANALYZING HARDWARE...";
      el.log.innerHTML = '';
      
      // Reset UI
      el.singleScore.textContent = '...';
      el.multiScore.textContent = '...';
      el.gpuScore.textContent = '...';
      el.identifiedCPU.textContent = 'Analyzing CPU architecture...';
      el.identifiedGPU.textContent = 'Analyzing GPU architecture...';
      el.systemType.textContent = 'Determining system profile...';
      el.useCase.textContent = 'Analyzing workload characteristics...';
      el.aiConfidence.textContent = 'Confidence: 0%';
      el.aiStatus.textContent = 'Initializing hardware analysis engine...';
      el.searchResults.style.display = 'none';
      
      updateProgress(0, "Gathering system information");
      
      const systemInfo = getSystemInfo();
      
      // Update system info display
      el.cpuThreads.textContent = systemInfo.hardwareConcurrency;
      el.gpuType.textContent = systemInfo.gpuRenderer || 'Unknown GPU';
      el.deviceType.textContent = systemInfo.deviceClass.charAt(0).toUpperCase() + systemInfo.deviceClass.slice(1);
      el.platformType.textContent = systemInfo.os.toUpperCase();
      
      log("üöÄ CyberBench Pro AI Hardware Identification Started", 'info');
      log(`üß† System Information:`, 'info');
      log(`   ‚Ä¢ Device: ${systemInfo.deviceClass.toUpperCase()} (${systemInfo.os.toUpperCase()})`, 'info');
      log(`   ‚Ä¢ CPU: ${systemInfo.hardwareConcurrency} logical cores`, 'info');
      log(`   ‚Ä¢ GPU: ${systemInfo.gpuRenderer}`, 'info');
      log(`   ‚Ä¢ Memory: ${systemInfo.deviceMemory ? systemInfo.deviceMemory + ' GB' : 'Unknown'}`, 'info');
      
      // Phase 1: Single-Core Test
      updateProgress(10, "Running single-core CPU benchmark");
      log('üß† Single-Core Test: 700x700 Mandelbrot rendering (250 iterations) + 4,000 prime calculations', 'info');
      
      const singleResult = await runSingleCoreBenchmark();
      el.singleScore.textContent = singleResult.score.toLocaleString();
      
      log(`‚úÖ Single-Core Score: ${singleResult.score.toLocaleString()} pts (${singleResult.executionTime.toFixed(1)}s)`, 'success');
      log(`   ‚Ä¢ Mandelbrot pixels calculated: ${singleResult.totalMandelbrot.toLocaleString()}`, 'info');
      log(`   ‚Ä¢ Prime numbers found: ${singleResult.totalPrimes.toLocaleString()}`, 'info');
      
      // Phase 2: Multi-Core Test
      updateProgress(35, "Running multi-core CPU benchmark");
      log(`üåÄ Multi-Core Test: ${Math.min(16, Math.floor(systemInfo.hardwareConcurrency * 0.8))} workers processing Mandelbrot + primes`, 'info');
      
      const multiResult = await runMultiCoreBenchmark(systemInfo.hardwareConcurrency);
      el.multiScore.textContent = multiResult.score.toLocaleString();
      
      log(`‚úÖ Multi-Core Score: ${multiResult.score.toLocaleString()} pts (${multiResult.executionTime.toFixed(1)}s)`, 'success');
      log(`   ‚Ä¢ Workers utilized: ${multiResult.workerCount}/${systemInfo.hardwareConcurrency}`, 'info');
      if (multiResult.totalWork) {
        log(`   ‚Ä¢ Total computational work: ${multiResult.totalWork.toLocaleString()}`, 'info');
      }
      
      // Phase 3: GPU Test
      updateProgress(65, "Running GPU compute benchmark");
      log('üéÆ GPU Test: 800x800 fractal rendering (100 frames) with advanced noise algorithms', 'info');
      
      const gpuResult = await runGPUBenchmark();
      el.gpuScore.textContent = gpuResult.score.toLocaleString();
      
      log(`‚úÖ GPU Score: ${gpuResult.score.toLocaleString()} pts (${gpuResult.executionTime.toFixed(1)}s)`, 'success');
      log(`   ‚Ä¢ Renderer: ${gpuResult.renderer || systemInfo.gpuRenderer}`, 'info');
      log(`   ‚Ä¢ Frames processed: ${gpuResult.frames || 'N/A'}`, 'info');
      
      // Phase 4: AI Hardware Identification
      updateProgress(80, "AI analyzing hardware performance signatures");
      log('üîç AI Hardware Identification: Analyzing performance fingerprints against global database', 'info');
      
      const cpuResult = HARDWARE_IDENTIFIER.identifyCPU(
        singleResult.score,
        multiResult.score,
        systemInfo.hardwareConcurrency,
        systemInfo
      );
      
      const gpuResultAnalysis = HARDWARE_IDENTIFIER.identifyGPU(
        gpuResult.score,
        systemInfo
      );
      
      const systemResult = HARDWARE_IDENTIFIER.identifySystemType(
        multiResult.score,
        gpuResult.score,
        systemInfo
      );
      
      // Display initial results
      el.identifiedCPU.textContent = cpuResult.name;
      el.identifiedGPU.textContent = gpuResultAnalysis.name;
      el.systemType.textContent = systemResult.name;
      el.useCase.textContent = systemResult.useCase;
      
      setConfidenceBadge(el.cpuConfidence, cpuResult.confidence);
      setConfidenceBadge(el.gpuConfidence, gpuResultAnalysis.confidence);
      setConfidenceBadge(el.systemConfidence, systemResult.confidence);
      setConfidenceBadge(el.useCaseConfidence, systemResult.confidence);
      
      log(`üß† CPU Identified: ${cpuResult.name} (${Math.round(cpuResult.confidence)}% confidence)`, 'success');
      log(`üéÆ GPU Identified: ${gpuResultAnalysis.name} (${Math.round(gpuResultAnalysis.confidence)}% confidence)`, 'success');
      log(`üíª System Profile: ${systemResult.name} (${Math.round(systemResult.confidence)}% confidence)`, 'success');
      
      // Phase 5: Web Search if needed
      if (cpuResult.needsSearch || gpuResultAnalysis.needsSearch) {
        updateProgress(90, "AI searching global hardware database");
        el.searchResults.style.display = 'block';
        
        log('üåê AI initiating simulated web search for precise hardware identification...', 'info');
        
        // Show search animation
        setTimeout(() => {
          const searchItems = [
            `üîç Analyzing CPU performance signature: ${singleResult.score} single-core, ${multiResult.score} multi-core`,
            `üîç Cross-referencing GPU renderer string: "${systemInfo.gpuRenderer}"`,
            `üîç Matching against platform-specific profiles: ${systemInfo.os.toUpperCase()} ${systemInfo.deviceClass}`,
            `üîç Comparing with known hardware configurations in database...`
          ];
          
          searchItems.forEach((item, index) => {
            setTimeout(() => {
              const searchItem = document.createElement('div');
              searchItem.className = 'search-item';
              searchItem.textContent = item;
              el.searchItems.appendChild(searchItem);
              
              if (index === searchItems.length - 1) {
                // Complete search
                setTimeout(async () => {
                  const searchResult = HARDWARE_IDENTIFIER.simulateWebSearch(
                    systemInfo,
                    {
                      singleCore: singleResult.score,
                      multiCore: multiResult.score,
                      gpuScore: gpuResult.score
                    },
                    cpuResult,
                    gpuResultAnalysis
                  );
                  
                  // Display search results
                  searchResult.results.forEach(result => {
                    const item = document.createElement('div');
                    item.className = 'search-item';
                    item.innerHTML = result.replace(/(\bApple\b|\bIntel\b|\bAMD\b|\bNVIDIA\b|\bQualcomm\b|\bMediaTek\b|\bSamsung\b)/g, '<span class="search-highlight">$1</span>');
                    el.searchItems.appendChild(item);
                  });
                  
                  // Update with search results
                  if (cpuResult.needsSearch && searchResult.cpu) {
                    el.identifiedCPU.textContent = searchResult.cpu;
                    setConfidenceBadge(el.cpuConfidence, searchResult.confidence.cpu, true);
                  }
                  
                  if (gpuResultAnalysis.needsSearch && searchResult.gpu) {
                    el.identifiedGPU.textContent = searchResult.gpu;
                    setConfidenceBadge(el.gpuConfidence, searchResult.confidence.gpu, true);
                  }
                  
                  log('‚úÖ AI Search Complete: Hardware verified through global database analysis', 'success');
                  if (searchResult.cpu) log(`   ‚Ä¢ Final CPU identification: ${searchResult.cpu}`, 'info');
                  if (searchResult.gpu) log(`   ‚Ä¢ Final GPU identification: ${searchResult.gpu}`, 'info');
                  
                  completeBenchmark();
                }, 1000);
              }
            }, index * 500);
          });
        }, 300);
      } else {
        completeBenchmark();
      }
    }
    
    function completeBenchmark() {
      updateProgress(100, "Hardware identification complete");
      el.runBtn.disabled = false;
      el.runBtn.textContent = "‚ñ∂Ô∏è ANALYZE AGAIN";
      el.runBtn.style.background = "linear-gradient(90deg, #4db6ac, #4fc3f7)";
      
      log('üéâ BENCHMARK COMPLETE!', 'success');
      log('üí° Tip: Run this benchmark 2-3 times in different conditions for most accurate results', 'info');
      
      // Final AI confidence
      const finalConfidence = Math.min(95, 
        (parseFloat(el.cpuConfidence.textContent.match(/(\d+)/)[1]) +
         parseFloat(el.gpuConfidence.textContent.match(/(\d+)/)[1]) +
         parseFloat(el.systemConfidence.textContent.match(/(\d+)/)[1])) / 3
      );
      
      el.aiConfidence.textContent = `Confidence: ${Math.round(finalConfidence)}%`;
      el.aiConfidence.className = 'ai-confidence ' + 
        (finalConfidence >= 90 ? 'ai-high' : finalConfidence >= 70 ? 'ai-medium' : 'ai-low');
    }

    // ================================
    // üéÆ EVENT HANDLERS & INITIALIZATION
    // ================================
    el.runBtn.addEventListener('click', runBenchmark);
    
    // Initialize system info
    window.addEventListener('load', () => {
      const systemInfo = getSystemInfo();
      
      el.cpuThreads.textContent = systemInfo.hardwareConcurrency;
      el.gpuType.textContent = systemInfo.gpuRenderer || 'Unknown GPU';
      el.deviceType.textContent = systemInfo.deviceClass.charAt(0).toUpperCase() + systemInfo.deviceClass.slice(1);
      el.platformType.textContent = systemInfo.os.toUpperCase();
      
      log("üí° Welcome to CyberBench Pro AI Hardware Identification", 'info');
      log("‚ö° This benchmark performs intensive computational workloads to identify your EXACT hardware models", 'info');
      log("üß† Advanced AI analyzes performance signatures and cross-references with global hardware database", 'info');
      log("üîç Click the button below to begin the comprehensive hardware analysis", 'info');
    });
    
    // Handle browser tab visibility changes
    document.addEventListener('visibilitychange', () => {
      if (document.hidden) {
        log("‚ö†Ô∏è Benchmark paused: Browser tab is not visible", 'warning');
      } else {
        log("‚úÖ Benchmark resumed: Browser tab is visible", 'info');
      }
    });
  </script>
</body>
</html>