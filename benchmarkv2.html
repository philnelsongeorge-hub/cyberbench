<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CyberBench AI â€¢ Hardware Analysis</title>
  <style>
    :root { --bg: #0a0e17; --card: #161b29; --primary: #7e57c2; --cyan: #4fc3f7; --text: #e6eaf5; }
    body { background: var(--bg); color: var(--text); font-family: 'Segoe UI', system-ui, sans-serif; padding: 20px; line-height: 1.5; }
    .container { max-width: 800px; margin: 0 auto; }
    
    /* Header */
    header { text-align: center; margin-bottom: 30px; }
    h1 { background: linear-gradient(90deg, var(--primary), var(--cyan)); -webkit-background-clip: text; color: transparent; margin: 0; font-size: 2.5rem; }
    .subtitle { color: #8892b0; font-size: 0.9rem; letter-spacing: 1px; text-transform: uppercase; }

    /* Cards */
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }
    .card { background: var(--card); border: 1px solid #30384d; padding: 20px; border-radius: 12px; text-align: center; }
    .card h3 { color: #8892b0; font-size: 0.8rem; margin: 0 0 10px 0; letter-spacing: 1px; }
    .score { font-size: 2rem; font-weight: bold; color: white; }
    .detail { font-size: 0.85rem; color: var(--cyan); margin-top: 5px; }

    /* AI Analysis Section */
    .ai-box { background: rgba(126, 87, 194, 0.1); border: 1px solid var(--primary); border-radius: 12px; padding: 20px; margin-top: 20px; }
    .ai-header { display: flex; align-items: center; margin-bottom: 15px; border-bottom: 1px solid rgba(126,87,194,0.3); padding-bottom: 10px; }
    .ai-icon { font-size: 1.5rem; margin-right: 10px; animation: pulse 2s infinite; }
    
    .param-row { display: flex; justify-content: space-between; margin-bottom: 8px; font-family: monospace; }
    .param-label { color: #8892b0; }
    .param-val { color: var(--cyan); font-weight: bold; }

    /* Button & Progress */
    .btn { background: linear-gradient(90deg, var(--primary), var(--cyan)); border: none; color: white; padding: 15px; width: 100%; font-size: 1.1rem; font-weight: bold; border-radius: 8px; cursor: pointer; transition: transform 0.2s; margin-bottom: 20px; }
    .btn:hover { transform: scale(1.02); }
    .btn:disabled { opacity: 0.5; cursor: not-allowed; }
    
    .progress-track { background: #1f293a; height: 8px; border-radius: 4px; overflow: hidden; margin-bottom: 20px; }
    .progress-bar { background: var(--cyan); height: 100%; width: 0%; transition: width 0.3s; }

    /* Terminal Log */
    .terminal { background: #000; border: 1px solid #333; height: 150px; overflow-y: auto; padding: 10px; font-family: monospace; font-size: 0.8rem; border-radius: 8px; color: #33ff00; }
    .log-entry { margin-bottom: 4px; }
    .log-warn { color: #ffb74d; }

    @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
  </style>
</head>
<body>

<div class="container">
  <header>
    <h1>CyberBench AI</h1>
    <div class="subtitle">Web-Search Enhanced Hardware Identification</div>
  </header>

  <div class="progress-track">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <button class="btn" id="runBtn">INITIALIZE SCAN & BENCHMARK</button>

  <div class="grid">
    <div class="card">
      <h3>SINGLE-CORE</h3>
      <div class="score" id="scoreSingle">-</div>
      <div class="detail">Responsiveness</div>
    </div>
    <div class="card">
      <h3>MULTI-CORE</h3>
      <div class="score" id="scoreMulti">-</div>
      <div class="detail">Heavy Load</div>
    </div>
    <div class="card">
      <h3>GPU COMPUTE</h3>
      <div class="score" id="scoreGPU">-</div>
      <div class="detail">Gaming/AI</div>
    </div>
  </div>

  <div class="ai-box">
    <div class="ai-header">
      <span class="ai-icon">âœ¨</span>
      <h3 style="margin:0">AI HARDWARE ID</h3>
    </div>
    
    <div class="grid" style="grid-template-columns: 1fr 1fr;">
      <div>
        <div class="param-row"><span class="param-label">CPU MODEL:</span> <span class="param-val" id="resCPU">Analyzing...</span></div>
        <div class="param-row"><span class="param-label">ARCH:</span> <span class="param-val" id="resArch">-</span></div>
        <div class="param-row"><span class="param-label">TDP (Power):</span> <span class="param-val" id="resTDP">-</span></div>
      </div>
      <div>
        <div class="param-row"><span class="param-label">GPU MODEL:</span> <span class="param-val" id="resGPU">Analyzing...</span></div>
        <div class="param-row"><span class="param-label">TGP (Power):</span> <span class="param-val" id="resTGP">-</span></div>
        <div class="param-row"><span class="param-label">MEMORY:</span> <span class="param-val" id="resMem">-</span></div>
      </div>
    </div>
    <div id="aiReasoning" style="margin-top: 10px; font-style: italic; color: #a0a8c0; font-size: 0.9rem;"></div>
  </div>

  <div class="terminal" id="consoleLog">
    <div class="log-entry">System ready. Waiting for input...</div>
  </div>
</div>

<script>
/**
 * ðŸ§  AI LOGIC ENGINE
 * This mimics the decision-making process of an LLM to identify hardware
 * based on parameters: SKU, Arch, Power, Memory.
 */
const AI_ENGINE = {
  detectHardware: function(sysInfo, scores) {
    let result = {
      cpuName: "Unknown CPU",
      cpuArch: "Unknown",
      cpuTDP: "Unknown",
      gpuName: "Unknown GPU",
      gpuTGP: "Unknown",
      gpuMem: "Unknown",
      reasoning: "Insufficient data."
    };

    // --- 1. CPU IDENTIFICATION LOGIC ---
    // Rule: Differentiate Desktop vs Mobile based on score-to-core ratio
    const cores = sysInfo.cores;
    
    if (sysInfo.userAgent.includes("iPhone") || sysInfo.userAgent.includes("Android")) {
      result.cpuName = sysInfo.userAgent.includes("iPhone") ? "Apple A-Series" : "Qualcomm/Exynos SoC";
      result.cpuArch = "ARM v9";
      result.cpuTDP = "5-8W (Mobile)";
    } else {
      // x86 Logic
      if (cores >= 20) {
        result.cpuName = "Intel Core i9 / Ultra 9";
        result.cpuTDP = scores.multi > 40000 ? "125W+ (Desktop)" : "45W (Laptop)";
      } else if (cores >= 14) {
        result.cpuName = "Intel Core i7 / Ultra 7";
        result.cpuTDP = scores.multi > 30000 ? "125W (Desktop)" : "28-45W (Laptop)";
      } else if (cores >= 6) {
        result.cpuName = "Intel i5 / Ryzen 5";
        result.cpuTDP = "65W (Mainstream)";
      } else {
        result.cpuName = "Entry Level / Older Gen";
        result.cpuTDP = "15W (Ultra-low power)";
      }

      // Architecture Guessing
      if (result.cpuName.includes("Ultra")) result.cpuArch = "Meteor Lake (Intel 4)";
      else if (scores.single > 4000) result.cpuArch = "Raptor Lake / Zen 4";
      else result.cpuArch = "Older Architecture";
    }

    // --- 2. GPU IDENTIFICATION LOGIC ---
    const renderer = sysInfo.gpuRenderer.toLowerCase();
    
    // Clean Name Extraction (Simulating Web Search Entity Extraction)
    if (renderer.includes("4090")) result.gpuName = "NVIDIA RTX 4090";
    else if (renderer.includes("4080")) result.gpuName = "NVIDIA RTX 4080";
    else if (renderer.includes("4070")) result.gpuName = "NVIDIA RTX 4070";
    else if (renderer.includes("4060")) result.gpuName = "NVIDIA RTX 4060";
    else if (renderer.includes("3060")) result.gpuName = "NVIDIA RTX 3060";
    else if (renderer.includes("arc")) result.gpuName = "Intel Arc Graphics";
    else if (renderer.includes("radeon")) result.gpuName = "AMD Radeon Graphics";
    else result.gpuName = "Integrated Graphics";

    // Power Limit (TGP) Detection
    // This answers "Is it a max-power laptop GPU or a limited one?"
    if (result.gpuName.includes("RTX")) {
      if (scores.gpu > 20000) result.gpuTGP = "115W+ (Max-P)";
      else if (scores.gpu > 10000) result.gpuTGP = "80-100W (Balanced)";
      else result.gpuTGP = "35-50W (Max-Q / Silent)";
      
      // Memory Guess based on model
      if (result.gpuName.includes("4060")) result.gpuMem = "8GB GDDR6";
      else if (result.gpuName.includes("4090")) result.gpuMem = "16GB+ GDDR6";
      else result.gpuMem = "Unknown VRAM";
    } else {
      result.gpuTGP = "Shared Power (iGPU)";
      result.gpuMem = "System Shared";
    }

    // --- 3. REASONING GENERATION ---
    result.reasoning = `Based on ${cores} cores and a Multi-Core score of ${scores.multi}, this appears to be a ${result.cpuTDP.includes("Laptop") ? "Laptop" : "Desktop"} system. GPU score indicates ${result.gpuTGP} power limits.`;

    return result;
  }
};

// --- SYSTEM UTILITIES ---
function log(msg, type = "info") {
  const terminal = document.getElementById('consoleLog');
  const div = document.createElement('div');
  div.className = "log-entry";
  if(type === "warn") div.className += " log-warn";
  div.innerText = `> ${msg}`;
  terminal.appendChild(div);
  terminal.scrollTop = terminal.scrollHeight;
}

function getSystemInfo() {
  let renderer = "Unknown";
  try {
    const canvas = document.createElement('canvas');
    const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
    if (gl) {
      const dbg = gl.getExtension('WEBGL_debug_renderer_info');
      renderer = dbg ? gl.getParameter(dbg.UNMASKED_RENDERER_WEBGL) : "WebGL Standard";
    }
  } catch(e) { console.error(e); }

  return {
    cores: navigator.hardwareConcurrency || 4,
    userAgent: navigator.userAgent,
    gpuRenderer: renderer
  };
}

// --- BENCHMARK EXECUTION ---
async function runBenchmarks() {
  const btn = document.getElementById('runBtn');
  const progress = document.getElementById('progressBar');
  
  btn.disabled = true;
  btn.innerText = "â³ SCANNING...";
  
  const sysInfo = getSystemInfo();
  log(`Detected Cores: ${sysInfo.cores}`);
  log(`Detected GPU String: ${sysInfo.gpuRenderer}`);

  // 1. Single Core Simulation
  progress.style.width = "30%";
  log("Benchmarking Single Thread...");
  await new Promise(r => setTimeout(r, 800)); // Simulate work
  const scoreSingle = Math.floor(Math.random() * (4500 - 3000) + 3000); // Random score in realistic range
  document.getElementById('scoreSingle').innerText = scoreSingle;

  // 2. Multi Core Simulation
  progress.style.width = "60%";
  log("Benchmarking Multi Thread...");
  await new Promise(r => setTimeout(r, 1000));
  // Score scales with cores for realism
  const scoreMulti = Math.floor(scoreSingle * (sysInfo.cores * 0.75)); 
  document.getElementById('scoreMulti').innerText = scoreMulti;

  // 3. GPU Simulation
  progress.style.width = "80%";
  log("Benchmarking GPU Compute...");
  await new Promise(r => setTimeout(r, 1200));
  // Score depends on if we see "NVIDIA" in the renderer string
  const hasDedicated = sysInfo.gpuRenderer.toLowerCase().includes("nvidia") || sysInfo.gpuRenderer.toLowerCase().includes("radeon");
  const scoreGPU = hasDedicated ? Math.floor(Math.random() * (25000 - 15000) + 15000) : Math.floor(Math.random() * (5000 - 2000) + 2000);
  document.getElementById('scoreGPU').innerText = scoreGPU;

  // 4. AI Analysis
  progress.style.width = "90%";
  log("ðŸ§  AI Engine: Correlating parameters...");
  await new Promise(r => setTimeout(r, 600));

  const results = AI_ENGINE.detectHardware(sysInfo, { single: scoreSingle, multi: scoreMulti, gpu: scoreGPU });

  // Update UI
  document.getElementById('resCPU').innerText = results.cpuName;
  document.getElementById('resArch').innerText = results.cpuArch;
  document.getElementById('resTDP').innerText = results.cpuTDP;
  
  document.getElementById('resGPU').innerText = results.gpuName;
  document.getElementById('resTGP').innerText = results.gpuTGP;
  document.getElementById('resMem').innerText = results.gpuMem;
  
  document.getElementById('aiReasoning').innerText = `"${results.reasoning}"`;
  
  log("âœ… Identification Complete.", "warn");
  progress.style.width = "100%";
  btn.disabled = false;
  btn.innerText = "RE-RUN BENCHMARK";
}

document.getElementById('runBtn').addEventListener('click', runBenchmarks);

</script>
</body>
</html>